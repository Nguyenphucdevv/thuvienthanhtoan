<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QU·∫¢N L√ù H·ªÜ TH·ªêNG</title>
    <link rel="icon" type="image/jpeg" href="/images/thuvienavt.jpg" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/admin.css" />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <style>
      /* Background t·ªëi ∆∞u - r√µ n√©t v√† √≠t lag */
      body {
        background: linear-gradient(
            135deg,
            rgba(30, 60, 114, 0.9) 0%,
            rgba(42, 82, 152, 0.9) 100%
          ),
          url("https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80");
        background-size: cover, cover;
        background-position: center, center;
        background-attachment: fixed;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
        animation: backgroundFade 15s ease-in-out infinite;
      }

      @keyframes backgroundFade {
        0%,
        100% {
          filter: brightness(1) contrast(1.1);
        }
        50% {
          filter: brightness(1.1) contrast(1.2);
        }
      }

      /* Floating elements ƒë∆°n gi·∫£n h∆°n */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 20% 80%,
            rgba(52, 152, 219, 0.3) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(231, 76, 60, 0.3) 0%,
            transparent 50%
          );
        animation: floatSimple 20s ease-in-out infinite;
        z-index: -1;
      }

      /* Book icons ƒë∆°n gi·∫£n h∆°n */
      body::after {
        content: "üìöüìñüìïüìóüìòüìôüììüìîüìíüìëüìÑüìÉüìúüìúüìúüìú";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        font-size: 2.5rem;
        opacity: 0.15;
        animation: bookFloatSimple 30s linear infinite;
        z-index: -1;
        pointer-events: none;
        overflow: hidden;
      }

      @keyframes floatSimple {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      @keyframes bookFloatSimple {
        0% {
          transform: translateX(-100px) translateY(0px);
        }
        100% {
          transform: translateX(100vw) translateY(-50px);
        }
      }

      /* Container t·ªëi ∆∞u */
      .container-fluid {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(15px);
        border-radius: 25px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.4);
        border: 2px solid rgba(255, 255, 255, 0.3);
        margin: 20px;
        min-height: calc(100vh - 40px);
        position: relative;
        z-index: 1;
      }

      /* Header t·ªëi ∆∞u */
      header {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.3) 0%,
          rgba(255, 255, 255, 0.2) 100%
        );
        border-radius: 20px;
        margin: 20px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.5);
        border: 2px solid rgba(255, 255, 255, 0.4);
        position: relative;
        overflow: hidden;
      }

      header::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        animation: shimmerSimple 5s infinite;
      }

      @keyframes shimmerSimple {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      header h1 {
        background: linear-gradient(45deg, #fff, #3498db, #e74c3c);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 30px rgba(52, 152, 219, 0.8);
        font-weight: 800;
        letter-spacing: 1px;
      }

      header p {
        color: rgba(255, 255, 255, 0.9) !important;
        font-weight: 500;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      /* Cards t·ªëi ∆∞u v·ªõi text n·ªïi b·∫≠t */
      .admin-card {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(20px);
        border: 2px solid rgba(255, 255, 255, 0.4);
        border-radius: 20px;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
        cursor: pointer;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.4);
      }

      .admin-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.3) 0%,
          rgba(255, 255, 255, 0.2) 100%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .admin-card:hover::before {
        opacity: 1;
      }

      .admin-card:hover {
        transform: translateY(-20px) rotateX(5deg) rotateY(5deg);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4),
          0 0 0 2px rgba(255, 255, 255, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.6);
      }

      /* Text n·ªïi b·∫≠t h∆°n */
      .card-title {
        color: #fff !important;
        font-weight: 700;
        text-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);
        letter-spacing: 0.5px;
      }

      .card-text {
        color: rgba(255, 255, 255, 0.9) !important;
        text-shadow: 0 1px 10px rgba(0, 0, 0, 0.4);
        font-weight: 500;
      }

      /* Icons t·ªëi ∆∞u */
      .icon-wrapper {
        position: relative;
        display: inline-block;
        transition: all 0.3s ease;
      }

      .admin-card:hover .icon-wrapper {
        transform: scale(1.2) rotateY(10deg);
      }

      .icon-wrapper i {
        filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.4));
        transition: all 0.3s ease;
      }

      .admin-card:hover .icon-wrapper i {
        filter: drop-shadow(0 10px 25px rgba(0, 0, 0, 0.6));
        animation: iconPulse 1s ease-in-out infinite;
      }

      @keyframes iconPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      /* Footer t·ªëi ∆∞u */
      footer {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(15px);
        border-radius: 15px;
        margin: 20px;
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      footer p {
        color: rgba(255, 255, 255, 0.9) !important;
        text-shadow: 0 1px 10px rgba(0, 0, 0, 0.3);
      }

      /* Special Map Card */
      .admin-card[onclick*="admin-map"] {
        background: linear-gradient(
          135deg,
          rgba(23, 162, 184, 0.4) 0%,
          rgba(23, 162, 184, 0.3) 100%
        );
        border: 3px solid rgba(23, 162, 184, 0.5);
        animation: mapPulse 2s ease-in-out infinite;
      }

      @keyframes mapPulse {
        0%,
        100% {
          box-shadow: 0 0 0 0 rgba(23, 162, 184, 0.4);
        }
        50% {
          box-shadow: 0 0 0 10px rgba(23, 162, 184, 0);
        }
      }

      /* Special Map Card - ƒê·∫£m b·∫£o hi·ªÉn th·ªã */
      .map-card {
        background: linear-gradient(
          135deg,
          rgba(23, 162, 184, 0.4) 0%,
          rgba(23, 162, 184, 0.3) 100%
        ) !important;
        border: 3px solid rgba(23, 162, 184, 0.8) !important;
        opacity: 1 !important;
        z-index: 10 !important;
        position: relative !important;
        display: block !important;
        visibility: visible !important;
        animation: mapPulse 2s ease-in-out infinite !important;
      }

      .map-card:hover {
        background: linear-gradient(
          135deg,
          rgba(23, 162, 184, 0.6) 0%,
          rgba(23, 162, 184, 0.5) 100%
        ) !important;
        border: 3px solid rgba(23, 162, 184, 1) !important;
        transform: translateY(-20px) rotateX(5deg) rotateY(5deg) !important;
        box-shadow: 0 25px 50px rgba(23, 162, 184, 0.4),
          0 0 0 2px rgba(23, 162, 184, 0.8),
          inset 0 1px 0 rgba(255, 255, 255, 0.6) !important;
      }

      .map-card .card-title {
        color: #fff !important;
        text-shadow: 0 2px 15px rgba(0, 0, 0, 0.5) !important;
      }

      .map-card .card-text {
        color: rgba(255, 255, 255, 0.9) !important;
        text-shadow: 0 1px 10px rgba(0, 0, 0, 0.4) !important;
      }

      @keyframes mapPulse {
        0%,
        100% {
          box-shadow: 0 0 0 0 rgba(23, 162, 184, 0.4);
        }
        50% {
          box-shadow: 0 0 0 10px rgba(23, 162, 184, 0);
        }
      }

      /* Responsive */
      @media (max-width: 768px) {
        .container-fluid {
          margin: 10px;
          min-height: calc(100vh - 20px);
        }

        header,
        footer {
          margin: 10px;
        }

        .admin-card:hover {
          transform: translateY(-15px) rotateX(3deg) rotateY(3deg);
        }
      }

      /* Loading Animation */
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="container-fluid min-vh-100 d-flex flex-column">
      <!-- Header -->
      <header class="text-center py-4" data-aos="fade-down">
        <h1 class="display-4 fw-bold text-primary">
          <i class="bi bi-building me-3"></i>
          Qu·∫£n L√Ω Th∆∞ Vi·ªán
        </h1>
        <p class="lead text-white-50 mt-2">
          H·ªá th·ªëng qu·∫£n l√Ω th∆∞ vi·ªán hi·ªán ƒë·∫°i v·ªõi c√¥ng ngh·ªá 3D
        </p>
      </header>

      <!-- Main Content -->
      <main class="flex-grow-1">
        <div class="container">
          <div class="row g-4 justify-content-center">
            <!-- Qu·∫£n l√Ω Th∆∞ Vi·ªán -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="100"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card"
                onclick="window.location.href='/admin/thu_vien'"
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-building fa-3x text-primary"></i>
                  </div>
                  <h5 class="card-title fw-bold">Qu·∫£n l√Ω Th∆∞ Vi·ªán</h5>
                  <p class="card-text">
                    Qu·∫£n l√Ω th√¥ng tin c√°c th∆∞ vi·ªán trong h·ªá th·ªëng
                  </p>
                </div>
              </div>
            </div>

            <!-- Qu·∫£n l√Ω Th·ªÉ Lo·∫°i -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="200"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card"
                onclick="window.location.href='/admin/the_loai'"
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-tags fa-3x text-success"></i>
                  </div>
                  <h5 class="card-title fw-bold">Qu·∫£n l√Ω Th·ªÉ Lo·∫°i</h5>
                  <p class="card-text">
                    Ph√¢n lo·∫°i v√† qu·∫£n l√Ω c√°c th·ªÉ lo·∫°i s√°ch
                  </p>
                </div>
              </div>
            </div>

            <!-- Qu·∫£n l√Ω S√°ch -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="300"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card"
                onclick="window.location.href='/admin/sach'"
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-book fa-3x text-warning"></i>
                  </div>
                  <h5 class="card-title fw-bold">Qu·∫£n l√Ω S√°ch</h5>
                  <p class="card-text">
                    Qu·∫£n l√Ω kho s√°ch v√† th√¥ng tin chi ti·∫øt
                  </p>
                </div>
              </div>
            </div>

            <!-- Qu·∫£n l√Ω M∆∞·ª£n S√°ch -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="400"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card"
                onclick="window.location.href='/admin/muon_sach'"
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-hand-index-thumb fa-3x text-info"></i>
                  </div>
                  <h5 class="card-title fw-bold">Qu·∫£n l√Ω M∆∞·ª£n S√°ch</h5>
                  <p class="card-text">Theo d√µi vi·ªác m∆∞·ª£n tr·∫£ s√°ch</p>
                </div>
              </div>
            </div>

            <!-- Qu·∫£n l√Ω ƒê∆°n H√†ng -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="450"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card"
                onclick="window.location.href='/admin/don_hang'"
                style="
                  cursor: pointer !important;
                  border: 3px solid #28a745 !important;
                  background: rgba(40, 167, 69, 0.2) !important;
                  opacity: 1 !important;
                  z-index: 10 !important;
                "
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-cart-check-fill fa-3x text-success"></i>
                  </div>
                  <h5 class="card-title fw-bold text-white">
                    Qu·∫£n l√Ω ƒê∆°n H√†ng
                  </h5>
                  <p class="card-text text-white">
                    Xem v√† duy·ªát ƒë∆°n h√†ng t·ª´ kh√°ch h√†ng
                  </p>
                </div>
              </div>
            </div>

            <!-- Qu·∫£n l√Ω ·∫¢nh Th∆∞ vi·ªán -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="500"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card"
                onclick="window.location.href='/admin/xem-anh'"
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-images fa-3x text-warning"></i>
                  </div>
                  <h5 class="card-title fw-bold">Qu·∫£n l√Ω ·∫¢nh</h5>
                  <p class="card-text">Xem v√† qu·∫£n l√Ω ·∫£nh th∆∞ vi·ªán</p>
                </div>
              </div>
            </div>

            <!-- Xem B·∫£n ƒë·ªì Th∆∞ vi·ªán -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="600"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card map-card"
                onclick="window.location.href='/admin/admin-map'"
                style="
                  cursor: pointer !important;
                  border: 3px solid #17a2b8 !important;
                  background: rgba(23, 162, 184, 0.2) !important;
                  opacity: 1 !important;
                  z-index: 10 !important;
                "
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-geo-alt-fill fa-3x text-info"></i>
                  </div>
                  <h5 class="card-title fw-bold text-white">Xem B·∫£n ƒë·ªì</h5>
                  <p class="card-text text-white">
                    Xem b·∫£n ƒë·ªì th∆∞ vi·ªán v√† qu·∫£n l√Ω v·ªã tr√≠
                  </p>
                  <small class="text-info fw-bold">Click ƒë·ªÉ xem b·∫£n ƒë·ªì</small>
                </div>
              </div>
            </div>

            <!-- ƒêƒÉng Xu·∫•t -->
            <div
              class="col-lg-4 col-md-6"
              data-aos="fade-up"
              data-aos-delay="700"
            >
              <div
                class="card h-100 shadow-lg border-0 admin-card logout-card"
                onclick="window.location.href='/login'"
              >
                <div class="card-body text-center p-4">
                  <div class="icon-wrapper mb-3">
                    <i class="bi bi-box-arrow-right fa-3x text-danger"></i>
                  </div>
                  <h5 class="card-title fw-bold">ƒêƒÉng Xu·∫•t</h5>
                  <p class="card-text">ƒêƒÉng xu·∫•t kh·ªèi h·ªá th·ªëng</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="text-center py-3 mt-auto" data-aos="fade-up">
        <p class="text-white-50 mb-0">
          <small
            >&copy; 2024 B·∫£n quy·ªÅn thu·ªôc v·ªÅ
            <strong class="text-white">Nguy·ªÖn VƒÉn Ph√∫c</strong></small
          >
        </p>
      </footer>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Fallback icons if Bootstrap Icons fail -->
    <script>
      // Initialize AOS
      AOS.init({
        duration: 1000,
        once: true,
        offset: 100,
      });

      window.addEventListener("load", function () {
        // Check if Bootstrap Icons loaded
        if (!document.querySelector(".bi")) {
          const icons = document.querySelectorAll(".bi");
          const fallbacks = ["üèõÔ∏è", "Ô∏è", "üìö", "", ""];
          icons.forEach((icon, index) => {
            if (fallbacks[index]) {
              icon.style.fontFamily = "Arial";
              icon.textContent = fallbacks[index];
              icon.style.fontSize = "3rem";
            }
          });
        }
      });

      // H√†m chuy·ªÉn ƒë·∫øn trang b·∫£n ƒë·ªì
      function goToMap() {
        console.log('üó∫Ô∏è N√∫t "Xem B·∫£n ƒë·ªì" ƒë∆∞·ª£c nh·∫•n');
        try {
          console.log("üîÑ ƒêang chuy·ªÉn ƒë·∫øn /admin/map...");

          // Test route tr∆∞·ªõc
          fetch("/admin/test", {
            method: "GET",
            credentials: "same-origin", // G·ª≠i cookies v√† session
            headers: {
              "Content-Type": "application/json",
            },
          })
            .then((response) => {
              console.log(" Response status:", response.status);
              console.log("üì° Response headers:", response.headers);
              return response.json();
            })
            .then((data) => {
              console.log("‚úÖ Test route ho·∫°t ƒë·ªông:", data);
              // N·∫øu test th√†nh c√¥ng, chuy·ªÉn ƒë·∫øn map
              window.location.href = "/admin/map";
            })
            .catch((error) => {
              console.error("‚ùå Test route kh√¥ng ho·∫°t ƒë·ªông:", error);
              alert("Route admin kh√¥ng ho·∫°t ƒë·ªông! Vui l√≤ng ki·ªÉm tra server.");
            });
        } catch (error) {
          console.error("‚ùå L·ªói khi chuy·ªÉn trang:", error);
          alert("C√≥ l·ªói x·∫£y ra khi chuy·ªÉn trang!");
        }
      }

      // Add click animation to cards
      document.querySelectorAll(".admin-card").forEach((card) => {
        card.addEventListener("click", function () {
          this.style.transform = "scale(0.95) rotateX(5deg) rotateY(5deg)";
          setTimeout(() => {
            this.style.transform = "";
          }, 200);
        });
      });
    </script>
  </body>
</html>
