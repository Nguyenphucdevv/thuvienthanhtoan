<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kh√°m Ph√° Th∆∞ Vi·ªán - <%= title %></title>
    <link rel="icon" type="image/jpeg" href="/images/thuvienavt.jpg" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <!-- Lightbox -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css"
    />

    <style>
      :root {
        --primary-color: #2c3e50;
        --secondary-color: #3498db;
        --accent-color: #e74c3c;
        --success-color: #27ae60;
        --warning-color: #f39c12;
        --light-bg: #f8f9fa;
        --dark-bg: #34495e;
        --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: var(--light-bg);
        overflow-x: hidden;
      }

      /* Navigation */
      .navbar {
        background: rgba(44, 62, 80, 0.95) !important;
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .navbar-brand {
        font-weight: 700;
        font-size: 1.5rem;
        background: var(--gradient-1);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .nav-link {
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-link:hover {
        color: var(--secondary-color) !important;
        transform: translateY(-2px);
      }

      /* Hero Section */
      .hero-section {
        background: var(--gradient-1);
        color: white;
        padding: 120px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .hero-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .hero-content {
        position: relative;
        z-index: 2;
      }

      .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .hero-subtitle {
        font-size: 1.3rem;
        margin-bottom: 2rem;
        opacity: 0.9;
      }

      /* Upload Section */
      .upload-section {
        background: white;
        padding: 80px 0;
        position: relative;
      }

      .upload-card {
        background: white;
        border-radius: 25px;
        padding: 50px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(52, 152, 219, 0.1);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .upload-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: var(--gradient-1);
      }

      .upload-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.15);
      }

      .upload-area {
        border: 3px dashed var(--secondary-color);
        border-radius: 20px;
        padding: 60px 20px;
        text-align: center;
        background: linear-gradient(
          135deg,
          rgba(52, 152, 219, 0.05) 0%,
          rgba(231, 76, 60, 0.05) 100%
        );
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .upload-area:hover {
        border-color: var(--accent-color);
        background: linear-gradient(
          135deg,
          rgba(52, 152, 219, 0.1) 0%,
          rgba(231, 76, 60, 0.1) 100%
        );
        transform: scale(1.02);
      }

      .upload-area.dragover {
        border-color: var(--success-color);
        background: linear-gradient(
          135deg,
          rgba(39, 174, 96, 0.1) 0%,
          rgba(52, 152, 219, 0.1) 100%
        );
        transform: scale(1.05);
      }

      .upload-icon {
        font-size: 4rem;
        color: var(--secondary-color);
        margin-bottom: 20px;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .upload-text {
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--primary-color);
        margin-bottom: 10px;
      }

      .upload-hint {
        color: #666;
        font-size: 1rem;
      }

      /* Gallery Section */
      .gallery-section {
        background: var(--light-bg);
        padding: 100px 0;
      }

      .section-title {
        text-align: center;
        margin-bottom: 60px;
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-color);
        position: relative;
      }

      .section-title::after {
        content: "";
        position: absolute;
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: var(--gradient-1);
        border-radius: 2px;
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin-top: 50px;
      }

      .gallery-item {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        position: relative;
        cursor: pointer;
      }

      .gallery-item:hover {
        transform: translateY(-10px);
        box-shadow: 0 25px 70px rgba(0, 0, 0, 0.2);
      }

      .gallery-item img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        transition: all 0.3s ease;
      }

      .gallery-item:hover img {
        transform: scale(1.1);
      }

      .gallery-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          rgba(52, 152, 219, 0.9),
          rgba(231, 76, 60, 0.9)
        );
        opacity: 0;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        color: white;
        text-align: center;
        padding: 20px;
      }

      .gallery-item:hover .gallery-overlay {
        opacity: 1;
      }

      .gallery-info {
        padding: 25px;
        background: white;
      }

      .gallery-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 10px;
      }

      .gallery-description {
        color: #666;
        margin-bottom: 15px;
        line-height: 1.6;
      }

      .gallery-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 15px;
      }

      .gallery-badge {
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .badge-primary {
        background: var(--gradient-1);
        color: white;
      }
      .badge-success {
        background: var(--gradient-3);
        color: white;
      }
      .badge-warning {
        background: var(--gradient-2);
        color: white;
      }

      .gallery-date {
        color: #999;
        font-size: 0.9rem;
      }

      /* Filter Section */
      .filter-section {
        background: white;
        padding: 40px 0;
        border-bottom: 1px solid #eee;
      }

      .filter-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
      }

      .filter-btn {
        padding: 12px 25px;
        border: 2px solid var(--secondary-color);
        background: transparent;
        color: var(--secondary-color);
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .filter-btn:hover,
      .filter-btn.active {
        background: var(--secondary-color);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
      }

      /* Stats Section */
      .stats-section {
        background: var(--gradient-1);
        color: white;
        padding: 80px 0;
      }

      .stat-card {
        text-align: center;
        padding: 30px 20px;
      }

      .stat-number {
        font-size: 3rem;
        font-weight: 800;
        margin-bottom: 10px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 500;
      }

      /* Footer */
      .footer {
        background: var(--primary-color);
        color: white;
        padding: 60px 0 30px;
        position: relative;
      }

      .footer::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-1);
      }

      .footer-content {
        text-align: center;
      }

      .footer-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .social-links {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 30px;
      }

      .social-link {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--secondary-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .social-link:hover {
        background: var(--accent-color);
        transform: translateY(-3px);
        color: white;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .hero-title {
          font-size: 2.5rem;
        }
        .hero-subtitle {
          font-size: 1.1rem;
        }
        .gallery-grid {
          grid-template-columns: 1fr;
        }
        .filter-buttons {
          flex-direction: column;
          align-items: center;
        }
        .upload-card {
          padding: 30px;
        }
        .upload-area {
          padding: 40px 15px;
        }
      }

      /* Loading Animation */
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      ::-webkit-scrollbar-thumb {
        background: var(--gradient-1);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--gradient-2);
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="/">
          <i class="bi bi-images me-2"></i>
          Kh√°m Ph√° Th∆∞ Vi·ªán
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <div class="navbar-nav ms-auto">
            <a class="nav-link" href="/admin">
              <i class="bi bi-arrow-left me-1"></i>Quay l·∫°i Admin
            </a>
            <a class="nav-link" href="/">
              <i class="bi bi-house me-1"></i>Trang Ch·ªß
            </a>
            <a class="nav-link active" href="/xem-anh">
              <i class="bi bi-camera me-1"></i>Kh√°m Ph√°
            </a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container">
        <div class="hero-content" data-aos="fade-up">
          <h1 class="hero-title">
            <i class="bi bi-compass me-3"></i>
            <%= title %>
          </h1>
          <p class="hero-subtitle"><%= message %></p>
          <div class="d-flex justify-content-center gap-4 flex-wrap">
            <button
              class="btn btn-light btn-lg px-4 py-3"
              onclick="scrollToUpload()"
            >
              <i class="bi bi-cloud-upload me-2"></i>T·∫£i ·∫¢nh L√™n
            </button>
            <button
              class="btn btn-outline-light btn-lg px-4 py-3"
              onclick="scrollToGallery()"
            >
              <i class="bi bi-images me-2"></i>Xem Th∆∞ Vi·ªán
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Upload Section -->
    <section class="upload-section" id="upload">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="upload-card" data-aos="fade-up">
              <h2 class="text-center mb-4">
                <i class="bi bi-cloud-upload me-2"></i>
                T·∫£i ·∫¢nh Th∆∞ Vi·ªán L√™n
              </h2>
              <p class="text-center text-muted mb-4">
                Chia s·∫ª nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp c·ªßa th∆∞ vi·ªán v·ªõi c·ªông ƒë·ªìng
              </p>

              <div
                class="upload-area"
                ondrop="handleDrop(event)"
                ondragover="handleDragOver(event)"
                ondragleave="handleDragLeave(event)"
                onclick="selectFiles()"
              >
                <div class="upload-icon">
                  <i class="bi bi-cloud-upload"></i>
                </div>
                <h4 class="upload-text">
                  K√©o th·∫£ ·∫£nh v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn
                </h4>
                <p class="upload-hint">
                  H·ªó tr·ª£: JPG, PNG, GIF (t·ªëi ƒëa 10MB m·ªói ·∫£nh)
                </p>
                <input
                  type="file"
                  id="fileInput"
                  accept="image/*"
                  multiple
                  style="display: none"
                />
              </div>

              <div class="mt-4">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">T√™n th∆∞ vi·ªán</label>
                    <input
                      type="text"
                      class="form-control"
                      id="libraryName"
                      placeholder="Nh·∫≠p t√™n th∆∞ vi·ªán"
                    />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">ƒê·ªãa ƒëi·ªÉm</label>
                    <input
                      type="text"
                      class="form-control"
                      id="location"
                      placeholder="Nh·∫≠p ƒë·ªãa ƒëi·ªÉm"
                    />
                  </div>
                  <div class="col-12">
                    <label class="form-label">M√¥ t·∫£</label>
                    <textarea
                      class="form-control"
                      id="description"
                      rows="3"
                      placeholder="M√¥ t·∫£ v·ªÅ th∆∞ vi·ªán..."
                    ></textarea>
                  </div>
                </div>
              </div>

              <div class="text-center mt-4">
                <button
                  class="btn btn-primary btn-lg px-5"
                  onclick="uploadImages()"
                >
                  <i class="bi bi-upload me-2"></i>T·∫£i L√™n
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Filter Section -->
    <section class="filter-section">
      <div class="container">
        <div class="filter-buttons">
          <button class="filter-btn active" onclick="filterImages('all')">
            T·∫•t C·∫£
          </button>
          <button class="filter-btn" onclick="filterImages('modern')">
            Hi·ªán ƒê·∫°i
          </button>
          <button class="filter-btn" onclick="filterImages('classic')">
            C·ªï ƒêi·ªÉn
          </button>
          <button class="filter-btn" onclick="filterImages('outdoor')">
            Ngo√†i Tr·ªùi
          </button>
          <button class="filter-btn" onclick="filterImages('interior')">
            N·ªôi Th·∫•t
          </button>
        </div>
      </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery-section" id="gallery">
      <div class="container">
        <h2 class="section-title" data-aos="fade-up">Th∆∞ Vi·ªán ·∫¢nh</h2>
        <div class="gallery-grid" id="galleryGrid">
          <!-- Sample Images -->
          <div
            class="gallery-item"
            data-category="modern"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <img
              src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
              alt="Th∆∞ vi·ªán hi·ªán ƒë·∫°i"
            />
            <div class="gallery-overlay">
              <h5 class="mb-3">Th∆∞ vi·ªán Qu·ªëc gia</h5>
              <p class="mb-3">H√† N·ªôi</p>
              <button class="btn btn-light btn-sm">
                <i class="bi bi-eye me-1"></i>Xem Chi Ti·∫øt
              </button>
            </div>
            <div class="gallery-info">
              <h5 class="gallery-title">Th∆∞ vi·ªán Qu·ªëc gia Vi·ªát Nam</h5>
              <p class="gallery-description">
                Th∆∞ vi·ªán l·ªõn nh·∫•t c·∫£ n∆∞·ªõc v·ªõi ki·∫øn tr√∫c hi·ªán ƒë·∫°i v√† kh√¥ng gian
                r·ªông r√£i
              </p>
              <div class="gallery-meta">
                <span class="gallery-badge badge-primary">Hi·ªán ƒë·∫°i</span>
                <span class="gallery-date">15/12/2024</span>
              </div>
            </div>
          </div>

          <div
            class="gallery-item"
            data-category="classic"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <img
              src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
              alt="Th∆∞ vi·ªán c·ªï ƒëi·ªÉn"
            />
            <div class="gallery-overlay">
              <h5 class="mb-3">Th∆∞ vi·ªán ƒê·∫°i h·ªçc</h5>
              <p class="mb-3">TP. H·ªì Ch√≠ Minh</p>
              <button class="btn btn-light btn-sm">
                <i class="bi bi-eye me-1"></i>Xem Chi Ti·∫øt
              </button>
            </div>
            <div class="gallery-info">
              <h5 class="gallery-title">Th∆∞ vi·ªán ƒê·∫°i h·ªçc B√°ch khoa</h5>
              <p class="gallery-description">
                Kh√¥ng gian h·ªçc t·∫≠p v·ªõi ki·∫øn tr√∫c c·ªï ƒëi·ªÉn v√† b·∫ßu kh√¥ng kh√≠ y√™n
                tƒ©nh
              </p>
              <div class="gallery-meta">
                <span class="gallery-badge badge-success">C·ªï ƒëi·ªÉn</span>
                <span class="gallery-date">12/12/2024</span>
              </div>
            </div>
          </div>

          <div
            class="gallery-item"
            data-category="outdoor"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <img
              src="https://images.unsplash.com/photo-1521587760476-6c12a4b040da?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
              alt="Th∆∞ vi·ªán ngo√†i tr·ªùi"
            />
            <div class="gallery-overlay">
              <h5 class="mb-3">Th∆∞ vi·ªán C·ªông ƒë·ªìng</h5>
              <p class="mb-3">ƒê√† N·∫µng</p>
              <button class="btn btn-light btn-sm">
                <i class="bi bi-eye me-1"></i>Xem Chi Ti·∫øt
              </button>
            </div>
            <div class="gallery-info">
              <h5 class="gallery-title">Th∆∞ vi·ªán C·ªông ƒë·ªìng ƒê√† N·∫µng</h5>
              <p class="gallery-description">
                Kh√¥ng gian ƒë·ªçc s√°ch ngo√†i tr·ªùi v·ªõi thi√™n nhi√™n xanh m√°t
              </p>
              <div class="gallery-meta">
                <span class="gallery-badge badge-warning">Ngo√†i tr·ªùi</span>
                <span class="gallery-date">10/12/2024</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
      <div class="container">
        <div class="row g-4">
          <div
            class="col-md-3 col-sm-6"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <div class="stat-card">
              <div class="stat-number">150+</div>
              <div class="stat-label">Th∆∞ Vi·ªán</div>
            </div>
          </div>
          <div
            class="col-md-3 col-sm-6"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <div class="stat-card">
              <div class="stat-number">500+</div>
              <div class="stat-label">·∫¢nh ƒê·∫πp</div>
            </div>
          </div>
          <div
            class="col-md-3 col-sm-6"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <div class="stat-card">
              <div class="stat-number">25</div>
              <div class="stat-label">T·ªânh Th√†nh</div>
            </div>
          </div>
          <div
            class="col-md-3 col-sm-6"
            data-aos="fade-up"
            data-aos-delay="400"
          >
            <div class="stat-card">
              <div class="stat-number">10K+</div>
              <div class="stat-label">L∆∞·ª£t Xem</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <h3 class="footer-title">
            <i class="bi bi-heart-fill text-danger me-2"></i>
            Kh√°m Ph√° Th∆∞ Vi·ªán
          </h3>
          <p class="mb-4 opacity-75">
            N∆°i chia s·∫ª nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp c·ªßa th∆∞ vi·ªán Vi·ªát Nam
          </p>
          <div class="social-links">
            <a href="#" class="social-link">
              <i class="bi bi-facebook"></i>
            </a>
            <a href="#" class="social-link">
              <i class="bi bi-twitter"></i>
            </a>
            <a href="#" class="social-link">
              <i class="bi bi-instagram"></i>
            </a>
            <a href="#" class="social-link">
              <i class="bi bi-youtube"></i>
            </a>
          </div>
          <p class="mb-0 opacity-75">
            ¬© 2024 ƒê∆∞·ª£c t·∫°o b·ªüi <strong>Nguy·ªÖn VƒÉn Ph√∫c</strong> - H·ªá th·ªëng Qu·∫£n
            l√Ω Th∆∞ vi·ªán
          </p>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- Lightbox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>

    <script>
      // Initialize AOS
      AOS.init({
        duration: 1000,
        once: true,
        offset: 100,
      });

      console.log(" Trang kh√°m ph√° th∆∞ vi·ªán ƒë√£ ƒë∆∞·ª£c load th√†nh c√¥ng!");

      // File Upload Functions
      function selectFiles() {
        document.getElementById("fileInput").click();
      }

      function handleDragOver(e) {
        e.preventDefault();
        e.currentTarget.classList.add("dragover");
      }

      function handleDragLeave(e) {
        e.preventDefault();
        e.currentTarget.classList.remove("dragover");
      }

      function handleDrop(e) {
        e.preventDefault();
        e.currentTarget.classList.remove("dragover");

        const files = e.dataTransfer.files;
        if (files.length > 0) {
          handleFiles(files);
        }
      }

      function handleFiles(files) {
        const fileArray = Array.from(files);
        console.log("üìÅ Files selected:", fileArray.length);

        // Preview images
        fileArray.forEach((file, index) => {
          if (file.type.startsWith("image/")) {
            const reader = new FileReader();
            reader.onload = function (e) {
              console.log(` Image ${index + 1} loaded:`, file.name);
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // File input change
      document
        .getElementById("fileInput")
        .addEventListener("change", function (e) {
          handleFiles(e.target.files);
        });

      // Upload Images
      function uploadImages() {
        const files = document.getElementById("fileInput").files;
        const libraryName = document.getElementById("libraryName").value;
        const location = document.getElementById("location").value;
        const description = document.getElementById("description").value;

        if (files.length === 0) {
          alert("Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt ·∫£nh!");
          return;
        }

        if (!libraryName) {
          alert("Vui l√≤ng nh·∫≠p t√™n th∆∞ vi·ªán!");
          return;
        }

        console.log("üì§ Uploading images...");
        console.log("Library:", libraryName);
        console.log("Location:", location);
        console.log("Description:", description);
        console.log("Files:", files.length);

        // Show loading
        const btn = event.target;
        const originalText = btn.innerHTML;
        btn.innerHTML = '<span class="loading"></span> ƒêang t·∫£i l√™n...';
        btn.disabled = true;

        // Simulate upload
        setTimeout(() => {
          btn.innerHTML = originalText;
          btn.disabled = false;

          // Add new image to gallery
          addImageToGallery({
            name: libraryName,
            location: location,
            description: description,
            image: URL.createObjectURL(files[0]),
            category: "modern",
            date: new Date().toLocaleDateString("vi-VN"),
          });

          // Reset form
          document.getElementById("fileInput").value = "";
          document.getElementById("libraryName").value = "";
          document.getElementById("location").value = "";
          document.getElementById("description").value = "";

          alert("T·∫£i ·∫£nh l√™n th√†nh c√¥ng!");
        }, 2000);
      }

      // Add Image to Gallery
      function addImageToGallery(data) {
        const galleryGrid = document.getElementById("galleryGrid");
        const newItem = document.createElement("div");
        newItem.className = "gallery-item";
        newItem.setAttribute("data-category", data.category);
        newItem.setAttribute("data-aos", "fade-up");

        newItem.innerHTML = `
          <img src="${data.image}" alt="${data.name}">
          <div class="gallery-overlay">
            <h5 class="mb-3">${data.name}</h5>
            <p class="mb-3">${data.location}</p>
            <button class="btn btn-light btn-sm">
              <i class="bi bi-eye me-1"></i>Xem Chi Ti·∫øt
            </button>
          </div>
          <div class="gallery-info">
            <h5 class="gallery-title">${data.name}</h5>
            <p class="gallery-description">${data.description}</p>
            <div class="gallery-meta">
              <span class="gallery-badge badge-primary">M·ªõi</span>
              <span class="gallery-date">${data.date}</span>
            </div>
          </div>
        `;

        galleryGrid.insertBefore(newItem, galleryGrid.firstChild);

        // Reinitialize AOS for new element
        AOS.refresh();
      }

      // Filter Images
      function filterImages(category) {
        const items = document.querySelectorAll(".gallery-item");
        const buttons = document.querySelectorAll(".filter-btn");

        // Update active button
        buttons.forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        // Filter items
        items.forEach((item) => {
          if (
            category === "all" ||
            item.getAttribute("data-category") === category
          ) {
            item.style.display = "block";
            item.style.animation = "fadeIn 0.5s ease-in-out";
          } else {
            item.style.display = "none";
          }
        });
      }

      // Scroll Functions
      function scrollToUpload() {
        document
          .getElementById("upload")
          .scrollIntoView({ behavior: "smooth" });
      }

      function scrollToGallery() {
        document
          .getElementById("gallery")
          .scrollIntoView({ behavior: "smooth" });
      }

      // Gallery Item Click
      document.addEventListener("click", function (e) {
        if (e.target.closest(".gallery-item")) {
          const galleryItem = e.target.closest(".gallery-item");
          const title = galleryItem.querySelector(".gallery-title").textContent;
          const image = galleryItem.querySelector("img").src;

          console.log("üñºÔ∏è ƒê√£ click v√†o:", title);

          // Open lightbox
          lightbox.option({
            resizeDuration: 200,
            wrapAround: true,
            showImageNumberLabel: false,
          });
        }
      });

      // Navbar scroll effect
      window.addEventListener("scroll", function () {
        const navbar = document.querySelector(".navbar");
        if (window.scrollY > 50) {
          navbar.style.background = "rgba(44, 62, 80, 0.98)";
        } else {
          navbar.style.background = "rgba(44, 62, 80, 0.95)";
        }
      });

      // Add fadeIn animation
      const style = document.createElement("style");
      style.textContent = `
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
